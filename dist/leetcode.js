(()=>{"use strict";var e,t,s,n,r={891:(e,t,s)=>{s.d(t,{C:()=>n,q:()=>r});const n=async e=>new Promise(((t,s)=>{chrome.storage.local.get(e,(n=>{void 0===n||void 0===n[e]?s(e):t(n[e])}))})).catch((e=>{console.log(`get local storage data failed for key = ${e}`)})),r=async(e,t)=>new Promise((()=>{chrome.storage.local.set({[e]:t}),resolve()})).catch((e=>console.log(e)))},117:(e,t,s)=>{s.a(e,(async(e,t)=>{try{var n=s(970),r=s(279);console.log("Hello PMCA!"),await(0,n.O1)(),document.addEventListener("click",r.L),t()}catch(e){t(e)}}),1)},279:(e,t,s)=>{s.d(t,{L:()=>p});var n=s(384);const r={operationName:"questionTitle",variables:{titleSlug:""}},o={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.122 Safari/537.36",Connection:"keep-alive","Content-Type":"application/json",Referer:""};var a=s(891);Object.freeze({MASTER:"mark as mastered",RESET:"reset progress",DELETE:"delete record"});var i=s(134);const l=async()=>{const e=await(0,a.C)(i.dw);return console.log(`current cnMode is ${e}`),void 0===e&&(await(0,a.q)(i.dw,!1),e=!1),e},c=async()=>{const e=await l()?i.Q$:i.y0;let t=await(0,a.C)(e);return void 0===t&&(t={}),t},d=async e=>{const t=await c();t[e.index]=e,await(async e=>{const t=await l()?i.Q$:i.y0;await(0,a.q)(t,e)})(t)};class m{constructor(e,t,s,n,r,o){this.index=e,this.name=t,this.level=s,this.url=n,this.submissionTime=r,this.proficiency=o}}const u=()=>{let e,t=10;const s=setInterval((async()=>{if(t<=0)return void clearInterval(s);if(e=(0,n._t)(),void 0===e||0===e.length)return void t--;clearInterval(s);let a=(0,n.mf)(e);const{problemIndex:i,problemName:l,problemLevel:u,problemUrl:p}=await(async()=>await(async()=>{let e=window.location.href;const t=e.match(/(com|cn)(\/|$)/);console.log(`current site is ${t[1]}`);const s=t?t[1]:"com",n=["/submissions/","/description/","/discussion/","/solutions/"];for(const t of n)if(e.includes(t)){e=e.substring(0,e.lastIndexOf(t)+1);break}const a=e.split("/").splice(-2)[0],i=await(async(e,t)=>{const s=`https://leetcode.${t}`;r.variables.titleSlug=e,r.query=`query questionTitle($titleSlug: String!) {\n        question(titleSlug: $titleSlug) {\n          questionFrontendId\n          ${"cn"===t?"translatedTitle":"title"}\n          difficulty\n        }\n      }`,o.Referer=`${s}/problems/${e}`;const n={method:"POST",headers:o,body:JSON.stringify(r),timeout:1e4},a=await fetch(`${s}/graphql`,n);return(await a.json()).data.question})(a,s);return{problemIndex:i.questionFrontendId,problemName:`${i.questionFrontendId}. ${"cn"===s?i.translatedTitle:i.title}`,problemLevel:i.difficulty,problemUrl:e}})())(),y=await c();if(y[i]){const e=y[i];(0,n.Hj)(e)&&a&&await d((0,n.zd)(e))}else if(a){const e=new m(i,l,u,p,Date.now(),(0,n.tL)(u)[0]);await d(e)}console.log("Submission successfully tracked!")}),1e3)},p=e=>{const t=e.target;[(0,n.P2)(t),t.parentElement&&(0,n.P2)(t.parentElement),t.parentElement&&t.parentElement.parentElement&&(0,n.P2)(t.parentElement.parentElement)].reduce(((e,t)=>e||t))&&u()}},970:(e,t,s)=>{s.d(t,{O1:()=>i});var n=s(891),r=s(214),o=s(134),a=s(192);const i=async()=>{await(async()=>{const e=await(async()=>await(0,n.C)(o.FB))();void 0!==e&&Object.assign(r.h,e)})(),await(async()=>{const e=await(async()=>await(0,n.C)(o.ql))()|(0,a.jD)(a.SL.sortByReviewTimeAsc);r.h.problemSortBy=(0,a.HF)(e)})()}},214:(e,t,s)=>{s.d(t,{h:()=>n});const n={needReviewProblems:null,reviewScheduledProblems:null,completedProblems:null,toReviewPage:1,scheduledPage:1,completedPage:1,toReviewMaxPage:null,scheduledMaxPage:null,completedMaxPage:null,tooltipTriggerList:null,tooltipList:null,easyIntv:[1,3],mediumIntv:[1,3,4],hardIntv:[0,1,2,3,4],problemSortBy:s(192).SL.sortByReviewTimeAsc}},497:(e,t,s)=>{s.d(t,{Ah:()=>i,EC:()=>u,Ex:()=>r,FG:()=>c,Oe:()=>y,P_:()=>d,Vq:()=>l,X6:()=>a,eK:()=>m,kQ:()=>o,mq:()=>n,u4:()=>p});const n=[1440,2880,5760,10080,21600],r="data-e2e-locator",o="console-submit-button",a="text-green-s dark:text-dark-green-s flex flex-1 items-center gap-2 text-[16px] font-medium leading-6",i="whitespace-nowrap text-xl font-medium text-red-s dark:text-dark-red-s",l="mr-1 flex-1 whitespace-nowrap text-xl font-medium text-red-s dark:text-dark-red-s",c="success__3Ai7",d="error__2Ft1",m="error__10k9",u="text-green-s dark:text-dark-green-s flex flex-1 items-center gap-2 text-[16px] font-medium leading-6",p="whitespace-nowrap text-xl font-medium text-red-s dark:text-dark-red-s",y="mr-1 flex-1 whitespace-nowrap text-xl font-medium text-red-s dark:text-dark-red-s"},134:(e,t,s)=>{s.d(t,{FB:()=>a,Q$:()=>r,dw:()=>n,ql:()=>i,y0:()=>o});const n="cn_mode",r="cn_records",o="records",a="review_intervals",i="problem_sort_by"},192:(e,t,s)=>{s.d(t,{HF:()=>d,SL:()=>i,jD:()=>c});var n=s(384);const r=e=>(t,s)=>-e(t,s),o=(e,t)=>(0,n.xt)(e).valueOf()-(0,n.xt)(t).valueOf(),a=(e,t)=>(0,n.J1)(t).valueOf()-(0,n.J1)(e).valueOf(),i={sortByReviewTimeDesc:r(o),sortByReviewTimeAsc:o,sortByDelayHoursDesc:a,sortByDelayHoursAsc:r(a)},l=[i.sortByReviewTimeAsc,i.sortByReviewTimeDesc,i.sortByDelayHoursAsc,i.sortByDelayHoursDesc],c=e=>l.indexOf(e),d=e=>l[e]},384:(e,t,s)=>{s.d(t,{Hj:()=>o,J1:()=>i,P2:()=>c,_t:()=>d,mf:()=>m,tL:()=>l,xt:()=>a,zd:()=>u});var n=s(214),r=s(497);const o=e=>!(e.proficiency>=r.mq.length)&&(Date.now()-e.submissionTime)/6e4>=r.mq[e.proficiency],a=e=>new Date(e.submissionTime+60*r.mq[e.proficiency]*1e3),i=e=>{const t=a(e);return Math.round((Date.now()-t)/36e5)},l=e=>"Easy"===e?n.h.easyIntv:"Medium"===e?n.h.mediumIntv:n.h.hardIntv,c=e=>e.getAttribute(r.Ex)===r.kQ,d=()=>document.getElementsByClassName(r.X6)[0]||document.getElementsByClassName(r.Ah)[0]||document.getElementsByClassName(r.Vq)[0]||document.getElementsByClassName(r.FG)[0]||document.getElementsByClassName(r.P_)[0]||document.getElementsByClassName(r.eK)[0]||document.getElementsByClassName(r.EC)[0]||document.getElementsByClassName(r.u4)[0]||document.getElementsByClassName(r.Oe)[0],m=e=>e.className.includes(r.X6)||e.className.includes(r.EC)||e.className.includes(r.FG),u=e=>{const t=l(e.problemLevel);let s;for(const n of t)if(n>e.proficiency){s=n;break}return e.proficiency=void 0!==s?s:r.mq.length,e.submissionTime=Date.now(),e}}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var s=o[e]={exports:{}};return r[e](s,s.exports,a),s.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",s="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},a.a=(r,o,a)=>{var i;a&&((i=[]).d=-1);var l,c,d,m=new Set,u=r.exports,p=new Promise(((e,t)=>{d=t,c=e}));p[t]=u,p[e]=e=>(i&&e(i),m.forEach(e),p.catch((e=>{}))),r.exports=p,o((r=>{var o;l=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[e])return r;if(r.then){var o=[];o.d=0,r.then((e=>{a[t]=e,n(o)}),(e=>{a[s]=e,n(o)}));var a={};return a[e]=e=>e(o),a}}var i={};return i[e]=e=>{},i[t]=r,i})))(r);var a=()=>l.map((e=>{if(e[s])throw e[s];return e[t]})),c=new Promise((t=>{(o=()=>t(a)).r=0;var s=e=>e!==i&&!m.has(e)&&(m.add(e),e&&!e.d&&(o.r++,e.push(o)));l.map((t=>t[e](s)))}));return o.r?c:a()}),(e=>(e?d(p[s]=e):c(u),n(i)))),i&&i.d<0&&(i.d=0)},a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a(117)})();