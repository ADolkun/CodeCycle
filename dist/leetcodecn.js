(()=>{"use strict";var e,t,n,a,o={891:(e,t,n)=>{n.d(t,{C:()=>a,q:()=>o});const a=async e=>new Promise(((t,n)=>{chrome.storage.local.get(e,(a=>{console.log(`get data: key = ${e}, value = ${a[e]}`),void 0===a||void 0===a[e]?n(e):t(a[e])}))})).catch((e=>{console.log(`get local storage data failed for key = ${e}`)})),o=async(e,t)=>(console.log(`set data: key = ${e}, value = ${t}`),new Promise((()=>{chrome.storage.local.set({[e]:t}),resolve()})).catch((e=>console.log(e))))},597:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var a=n(970),o=n(696);console.log("Hello PMCA!"),await(0,a.O1)(),document.addEventListener("click",o.L),t()}catch(e){t(e)}}),1)},696:(e,t,n)=>{n.d(t,{L:()=>x});var a=n(214);const o=[1440,2880,5760,10080,21600],s="text-green-s dark:text-dark-green-s flex flex-1 items-center gap-2 text-[16px] font-medium leading-6",r="success__3Ai7",l="text-green-s dark:text-dark-green-s flex flex-1 items-center gap-2 text-[16px] font-medium leading-6",i=e=>"Easy"===e?a.h.easyIntv:"Medium"===e?a.h.mediumIntv:a.h.hardIntv,c=e=>"console-submit-button"===e.getAttribute("data-e2e-locator"),d={operationName:"questionTitle",variables:{titleSlug:""}},m={"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.122 Safari/537.36",Connection:"keep-alive","Content-Type":"application/json",Referer:""};var u=n(891),p=n(134);const f=async()=>{const e=await(0,u.C)(p.dw);return console.log(`current cnMode is ${e}`),void 0===e&&(await(0,u.q)(p.dw,!1),e=!1),e},y=async()=>{const e=await f()?p.Q$:p.y0;console.log(e);let t=await(0,u.C)(e);return void 0===t&&(t={}),t},g=async e=>{const t=await y();t[e.index]=e,await(async e=>{const t=await f()?p.Q$:p.y0;await(0,u.q)(t,e)})(t)};class w{constructor(e,t,n,a,o,s){this.index=e,this.name=t,this.level=n,this.url=a,this.submissionTime=o,this.proficiency=s}}const v=()=>{let e,t=10;const n=setInterval((async()=>{if(t<=0)return void clearInterval(n);if(e=document.getElementsByClassName(s)[0]||document.getElementsByClassName("whitespace-nowrap text-xl font-medium text-red-s dark:text-dark-red-s")[0]||document.getElementsByClassName("mr-1 flex-1 whitespace-nowrap text-xl font-medium text-red-s dark:text-dark-red-s")[0]||document.getElementsByClassName(r)[0]||document.getElementsByClassName("error__2Ft1")[0]||document.getElementsByClassName("error__10k9")[0]||document.getElementsByClassName(l)[0]||document.getElementsByClassName("whitespace-nowrap text-xl font-medium text-red-s dark:text-dark-red-s")[0]||document.getElementsByClassName("mr-1 flex-1 whitespace-nowrap text-xl font-medium text-red-s dark:text-dark-red-s")[0],void 0===e||0===e.length)return void t--;clearInterval(n);let a=(e=>e.className.includes(s)||e.className.includes(l)||e.className.includes(r))(e);const{problemIndex:c,problemName:u,problemLevel:p,problemUrl:f}=await(async()=>await(async()=>{let e=window.location.href;const t=e.match(/(com|cn)(\/|$)/);console.log(`current site is ${t[1]}`);const n=t?t[1]:"com",a=["/submissions/","/description/","/discussion/","/solutions/"];for(const t of a)if(e.includes(t)){e=e.substring(0,e.lastIndexOf(t)+1);break}const o=e.split("/").splice(-2)[0],s=await(async(e,t)=>{const n=`https://leetcode.${t}`;d.variables.titleSlug=e,d.query=`query questionTitle($titleSlug: String!) {\n        question(titleSlug: $titleSlug) {\n          questionFrontendId\n          ${"cn"===t?"translatedTitle":"title"}\n          difficulty\n        }\n      }`,m.Referer=`${n}/problems/${e}`;const a={method:"POST",headers:m,body:JSON.stringify(d),timeout:1e4},o=await fetch(`${n}/graphql`,a);return(await o.json()).data.question})(o,n);return{problemIndex:s.questionFrontendId,problemName:`${s.questionFrontendId}. ${"cn"===n?s.translatedTitle:s.title}`,problemLevel:s.difficulty,problemUrl:e}})())(),v=await y();if(v[c]){const e=v[c];(e=>!(e.proficiency>=o.length)&&(Date.now()-e.submissionTime)/6e4>=o[e.proficiency])(e)&&a&&await g((e=>{const t=i(e.problemLevel);let n;for(const a of t)if(a>e.proficiency){n=a;break}return e.proficiency=void 0!==n?n:o.length,e.submissionTime=Date.now(),e})(e))}else if(a){const e=new w(c,u,p,f,Date.now(),i(p)[0]);await g(e)}console.log("Submission successfully tracked!")}),1e3)},x=e=>{const t=e.target;[c(t),t.parentElement&&c(t.parentElement),t.parentElement&&t.parentElement.parentElement&&c(t.parentElement.parentElement)].reduce(((e,t)=>e||t))&&v()}},970:(e,t,n)=>{n.d(t,{O1:()=>r});var a=n(891),o=n(214),s=n(134);const r=async()=>{await(async()=>{const e=await(async()=>await(0,a.C)(s.FB))();void 0!==e&&Object.assign(o.h,e)})()}},214:(e,t,n)=>{n.d(t,{h:()=>a});const a={needReviewProblems:null,reviewScheduledProblems:null,completedProblems:null,toReviewPage:1,scheduledPage:1,completedPage:1,toReviewMaxPage:null,scheduledMaxPage:null,completedMaxPage:null,tooltipTriggerList:null,tooltipList:null,easyIntv:[1,3],mediumIntv:[1,3,4],hardIntv:[0,1,2,3,4]}},134:(e,t,n)=>{n.d(t,{FB:()=>r,Q$:()=>o,dw:()=>a,y0:()=>s});const a="cn_mode",o="cn_records",s="records",r="review_intervals"}},s={};function r(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return o[e](n,n.exports,r),n.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},r.a=(o,s,r)=>{var l;r&&((l=[]).d=-1);var i,c,d,m=new Set,u=o.exports,p=new Promise(((e,t)=>{d=t,c=e}));p[t]=u,p[e]=e=>(l&&e(l),m.forEach(e),p.catch((e=>{}))),o.exports=p,s((o=>{var s;i=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[e])return o;if(o.then){var s=[];s.d=0,o.then((e=>{r[t]=e,a(s)}),(e=>{r[n]=e,a(s)}));var r={};return r[e]=e=>e(s),r}}var l={};return l[e]=e=>{},l[t]=o,l})))(o);var r=()=>i.map((e=>{if(e[n])throw e[n];return e[t]})),c=new Promise((t=>{(s=()=>t(r)).r=0;var n=e=>e!==l&&!m.has(e)&&(m.add(e),e&&!e.d&&(s.r++,e.push(s)));i.map((t=>t[e](n)))}));return s.r?c:r()}),(e=>(e?d(p[n]=e):c(u),a(l)))),l&&l.d<0&&(l.d=0)},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r(597)})();